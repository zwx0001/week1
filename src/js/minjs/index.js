"use strict";var mySwiper=new Swiper(".container",{slidesPerView:3,slidesPerGroup:3}),myBScroll=new BScroll("section",{probeType:2,click:2}),idx=0;function ajax(n){$.ajax({url:"/api/getData?idx="+n,success:function(n){0===(n=JSON.parse(n)).code&&render(n.data)}})}function render(n){var t="";n.map(function(n){t+="\n            <dl>\n                <dd>\n                    <p>".concat(n.tit,"</p>\n                    <p>").concat(n.con,"</p>\n                    <p>").concat(n.time,'</p>\n                </dd>\n                <dt><img src="./images/').concat(n.img,'" alt=""></dt>\n            </dl>\n        ')}),$(".content").append(t),myBScroll.refresh()}function up(){ajax(++idx)}function down(){idx=0,$.ajax({url:"/api/getData?idx="+idx,success:function(n){0===(n=JSON.parse(n)).code&&render2(n.data)}})}function render2(n){var t="";n.map(function(n){t+="\n            <dl>\n                <dd>\n                    <p>".concat(n.tit,"</p>\n                    <p>").concat(n.con,"</p>\n                    <p>").concat(n.time,'</p>\n                </dd>\n                <dt><img src="./images/').concat(n.img,'" alt=""></dt>\n            </dl>\n        ')}),$(".content").html(t),myBScroll.refresh()}ajax(0),myBScroll.on("scroll",function(){this.y<this.maxScrollY-100?$(".box").attr("up","释放加载"):this.y<0&&this.y>this.maxScrollY-100?$(".box").attr("up","上拉加载……"):0<this.y&&this.y<70?$(".box").attr("down","下拉刷新……"):70<this.y&&$(".box").attr("down","释放刷新")}),myBScroll.on("scrollEnd",function(){"释放加载"===$(".box").attr("up")?(up(),$(".box").attr("up","上拉加载……")):"释放刷新"===$(".box").attr("down")?(down(),$(".box").attr("down","下拉刷新……")):this.y});